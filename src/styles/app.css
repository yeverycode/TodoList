/* 공통 페이지 구조 */
main{margin-top:72px}
.section{padding:32px 0}
.section.pale{background:var(--pale)}

h1{margin:0 0 8px}

/* To‑Do */
.todo-input{display:flex;gap:8px;margin:12px 0}
.todo-input input{flex:1; padding:10px 12px; border:1px solid var(--line); border-radius:10px; outline:none}

.todo-toolbar{display:flex; flex-direction:column; gap:10px; margin:12px 0 8px}
.todo-toolbar .left{display:flex; gap:8px; flex-wrap:wrap}
.todo-toolbar .right{display:flex; gap:8px; margin-left:auto}
.filters{display:flex; gap:6px}
.filters button{background:#fff; border:1px solid var(--line); padding:6px 10px; border-radius:999px; cursor:pointer}
.filters .active{background:var(--indigo); border-color:var(--indigo); color:#fff}
.todo-toolbar .search{padding:8px 10px; border:1px solid var(--line); border-radius:8px; min-width:180px}
.todo-toolbar .stats{color:var(--muted); font-size:13px}

.todo-list{display:flex; flex-direction:column; gap:8px; margin-top:8px}
.todo-item{display:flex; align-items:center; gap:12px; padding:12px; border:1px solid var(--line); border-radius:12px; background:#fff;}
.todo-item .chk{display:flex; align-items:center}
.todo-item .chk input{accent-color:var(--indigo)}
.todo-item .title{flex:1; cursor:text}
.todo-item.done .title{text-decoration:line-through; color:#9aa0a6}
.todo-item .edit{flex:1; padding:6px 8px; border:1px solid var(--line); border-radius:8px}
.icon.danger{background:#fff; border:1px solid var(--line); border-radius:8px; padding:4px 8px; cursor:pointer}

/* Schedule */
.schedule-toolbar{display:flex; gap:10px; align-items:flex-end; justify-content:space-between; margin:12px 0 8px;}
.schedule-toolbar .left{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.datepick{display:flex; align-items:center; gap:8px}
.datepick input{padding:8px 10px; border:1px solid var(--line); border-radius:8px}

.event-input{display:flex; gap:8px; margin:12px 0}
.event-input input[type="time"]{width:110px; padding:8px 10px; border:1px solid var(--line); border-radius:10px;}
.event-input input[aria-label="제목"]{flex:1; padding:10px 12px; border:1px solid var(--line); border-radius:10px;}
.event-input .repeat{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.event-input .repeat .inline{display:flex; align-items:center; gap:6px}
.event-input .repeat input[type="number"]{width:64px; padding:8px 10px; border:1px solid var(--line); border-radius:8px}
.event-input .repeat select{padding:8px 10px; border:1px solid var(--line); border-radius:8px}

.event-list{display:flex; flex-direction:column; gap:8px; margin-top:8px}
.event-item{position:relative; display:flex; align-items:center; gap:12px; padding:12px; border:1px solid var(--line); border-radius:12px; background:#fff;}
.event-item.occ{opacity:.95; background:linear-gradient(#fff,#fff) padding-box, repeating-linear-gradient(45deg,#e9eefb 0 2px,transparent 2px 6px) border-box; border:1px solid #dfe7ff}
.drag-handle{cursor:grab; user-select:none; opacity:.6}
.event-time{width:70px; font-variant-numeric: tabular-nums; color:#111}
.event-title{flex:1}

/* Calendar */
.monthcal{border:1px solid var(--line); border-radius:12px; background:#fff; padding:12px; margin:12px 0}
.monthcal__head{display:flex; align-items:center; justify-content:space-between; margin-bottom:8px}
.monthcal__head .title{font-weight:700}
.monthcal__grid{display:grid; grid-template-columns:repeat(7,1fr); gap:6px}
.monthcal .dow{font-size:12px; color:var(--muted); text-align:center; padding:4px 0}
.monthcal .week{display:contents}
.monthcal .cell{position:relative; height:74px; border:1px solid var(--line); border-radius:10px; background:#fff; padding:6px; text-align:left; cursor:pointer}
.monthcal .cell.cur{background:#fbfdff}
.monthcal .cell.selected{outline:2px solid var(--indigo)}
.monthcal .cell .day{font-weight:600}
.monthcal .cell .dot{position:absolute; width:8px; height:8px; border-radius:50%; background:var(--indigo); right:8px; bottom:8px}

@media (max-width:720px){
  .todo-toolbar{gap:8px}
  .todo-toolbar .right{flex-wrap:wrap}
}

/* ===== MyPage ===== */
.visually-hidden { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

:root {
  --line:#e5e7eb; --indigo:#4f46e5; --brand:var(--indigo);
  --bg-card:#fff; --text-strong:#111827; --text-muted:#6b7280;
  --success:#1a7f37; --success-soft:#e6f4ea;
}

.section.mypage { max-width:1080px; margin-inline:auto; padding:20px; }
.panel { background:var(--bg-card); border:1px solid var(--line); border-radius:14px; padding:16px; }
.panel + .panel { margin-top:16px; }
.panel-head h2 { font-size:20px; font-weight:700; border-bottom:2px solid var(--line); padding-bottom:6px; margin-bottom:12px; color:var(--text-strong); }
.panel-body { padding-top:4px; }

.vstack { display:flex; flex-direction:column; }
.gap-12 { gap:12px; }

.form .field-row { display:grid; grid-template-columns:100px 1fr; align-items:center; gap:8px; }
.form label { color:var(--text-muted); font-size:14px; }
.input { width:100%; border:1px solid var(--line); border-radius:10px; padding:10px 12px; background:#fff; font-size:14px; }
.input:focus { outline:none; border-color:var(--indigo); box-shadow:0 0 0 2px rgba(0,60,255,.15); }
.inline-controls { display:flex; align-items:center; gap:8px; }
.inline-controls.wrap { flex-wrap:wrap; }

.actions { display:flex; align-items:center; gap:10px; margin-top:4px; }
.badge { background:var(--success-soft); color:var(--success); padding:2px 8px; border-radius:999px; font-size:12px; }
.help { margin-top:4px; font-size:13px; }
.help.ok { color:var(--success); }
.help.err { color:#b42318; }

.btn { --_bg:#f3f4f6; --_bd:var(--line); --_tx:#111827; display:inline-flex; align-items:center; justify-content:center; gap:6px; padding:10px 14px; border-radius:10px; border:1px solid var(--_bd); background:var(--_bg); color:var(--_tx); cursor:pointer; font-weight:600; font-size:14px; transition:transform .06s, box-shadow .12s, background .12s; }
.btn:hover { transform:translateY(-1px); box-shadow:0 2px 6px rgba(0,0,0,.06); }
.btn:active { transform:none; box-shadow:none; }
.btn-primary { --_bg:var(--brand); --_bd:var(--brand); --_tx:#fff; }
.btn-outline { --_bg:#fff; --_bd:var(--line); }
.btn-indigo { --_bg:#eef2ff; --_bd:#e0e7ff; --_tx:#3730a3; }
.btn-success { --_bg:#e7f7ee; --_bd:#bde6cc; --_tx:#166534; }

.stats-tiles { display:grid; grid-template-columns:repeat(2, minmax(0, 1fr)); gap:10px; }
.stats-tiles .tile { border:1px solid var(--line); border-radius:14px; padding:14px; display:grid; grid-template-rows:auto auto auto; align-items:center; justify-items:start; transition: transform .15s ease, box-shadow .15s ease; }
.stats-tiles .tile:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.05); }
.stats-tiles .lead { font-size:20px; line-height:1; }
.stats-tiles .num { font-size:22px; font-weight:800; }
.stats-tiles .sub { font-size:12px; color:var(--text-muted); }
@media (min-width:720px) { .stats-tiles { grid-template-columns:repeat(3, minmax(0, 1fr)); } }
@media (min-width:1024px) { .stats-tiles { grid-template-columns:repeat(5, minmax(0, 1fr)); } }

.mypage-grid { display:grid; grid-template-columns: 1fr; gap:16px; }
@media (min-width:900px) { .mypage-grid { grid-template-columns: 1fr 1fr; } }

.backup-list { border:1px dashed var(--line); border-radius:12px; padding:12px; }
.backup-list .list-head { font-weight:700; margin-bottom:8px; color:var(--text-strong); }
.backup-list .empty { color:var(--text-muted); }
.backup-list ul { list-style:none; margin:0; padding:0; display:grid; gap:8px; }
.backup-list .row { display:grid; grid-template-columns:100px 1fr 60px; align-items:center; gap:8px; padding:8px 10px; border:1px solid var(--line); border-radius:10px; }
.backup-list .row .type { font-weight:700; }
.backup-list .row.export .type { color:#0b4d92; }
.backup-list .row.import .type { color:#5b2a86; }
.backup-list .row .date { color:var(--text-muted); font-size:13px; }
.backup-list .row .meta { justify-self:end; font-weight:700; }

@media (max-width:520px) {
  .form .field-row { grid-template-columns:1fr; }
}